{% extends 'base.html' %}
{% load static %}
{% block title %}Login - CivicFix{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/auth-dark.css' %}">
<link rel="stylesheet" href="{% static 'css/auth-fixes.css' %}">
{% endblock %}

{% block content %}
<div class="auth-container">
  <!-- Animated Background -->
  <div class="auth-bg">
    <div class="floating-shapes">
      <div class="shape shape-1"></div>
      <div class="shape shape-2"></div>
      <div class="shape shape-3"></div>
      <div class="shape shape-4"></div>
      <div class="shape shape-5"></div>
    </div>
  </div>

  <div class="auth-content">
    <div class="auth-card login-card">
      <div class="auth-header">
        <div class="auth-logo">
          <i class="fas fa-city"></i>
        </div>
        <h2 class="auth-title">Welcome Back</h2>
        <p class="auth-subtitle">Sign in to your CivicFix account</p>
      </div>

      <form method="post" action="" class="auth-form">
        {% csrf_token %}
        {% if form.errors %}
          <div class="auth-alert error">
            <i class="fas fa-exclamation-triangle"></i>
            <span>Invalid credentials. Please try again.</span>
          </div>
        {% endif %}

        <div class="form-group">
          <div class="input-wrapper">
            <i class="fas fa-user input-icon"></i>
            {{ form.username }}
            <label class="floating-label">Username</label>
            <div class="input-border"></div>
          </div>
        </div>

        <div class="form-group">
          <div class="input-wrapper">
            <i class="fas fa-lock input-icon"></i>
            {{ form.password }}
            <label class="floating-label">Password</label>
            <div class="input-border"></div>
          </div>
        </div>

        <button type="submit" class="auth-btn primary">
          <span class="btn-text">Sign In</span>
          <div class="btn-ripple"></div>
        </button>
      </form>

      <div class="auth-divider">
        <span>or</span>
      </div>

      <div class="auth-footer">
        <p class="signup-text">Don't have an account? Choose your role:</p>
        <div class="role-buttons">
          <a href="/api/auth/signup/citizen/page/" class="role-btn citizen">
            <i class="fas fa-users"></i>
            <span>Citizen</span>
          </a>
          <a href="/api/auth/signup/authority/page/" class="role-btn authority">
            <i class="fas fa-shield-alt"></i>
            <span>Authority</span>
          </a>
          <a href="/api/auth/signup/admin/page/" class="role-btn admin">
            <i class="fas fa-crown"></i>
            <span>Admin</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="{% static 'js/auth-animations.js' %}"></script>
{% endblock %}