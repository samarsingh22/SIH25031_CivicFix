{% extends 'base.html' %}
{% load static %}
{% block title %}Signup - CivicFix{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/auth-home-style.css' %}">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="auth-container">
  <!-- Animated Background -->
  <div class="auth-bg">
    <div class="floating-shapes">
      <div class="shape shape-1"></div>
      <div class="shape shape-2"></div>
      <div class="shape shape-3"></div>
      <div class="shape shape-4"></div>
      <div class="shape shape-5"></div>
      <div class="shape shape-6"></div>
    </div>
  </div>

  <div class="auth-content">
    <div class="auth-card signup-card">
      <div class="auth-header">
        <div class="auth-logo">
          <i class="fas fa-user-plus"></i>
        </div>
        <h2 class="auth-title">{% block heading %}Create Account{% endblock %}</h2>
        <p class="auth-subtitle">Join CivicFix and make a difference</p>
      </div>

      <form method="post" action="" class="auth-form">
        {% csrf_token %}
        {% if form.errors %}
          <div class="auth-alert error">
            <i class="fas fa-exclamation-triangle"></i>
            <span>Please fix the errors below.</span>
          </div>
        {% endif %}

        <div class="form-row">
          <div class="form-group">
            <div class="input-wrapper">
              <i class="fas fa-user input-icon"></i>
              {{ form.username }}
              <label class="floating-label">Username</label>
              <div class="input-border"></div>
            </div>
            {% if form.username.errors %}
              <div class="field-error">
                <i class="fas fa-exclamation-circle"></i>
                {{ form.username.errors|striptags }}
              </div>
            {% endif %}
          </div>

          <div class="form-group">
            <div class="input-wrapper">
              <i class="fas fa-id-card input-icon"></i>
              {{ form.first_name }}
              <label class="floating-label">Full Name</label>
              <div class="input-border"></div>
            </div>
            {% if form.first_name.errors %}
              <div class="field-error">
                <i class="fas fa-exclamation-circle"></i>
                {{ form.first_name.errors|striptags }}
              </div>
            {% endif %}
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <div class="input-wrapper">
              <i class="fas fa-envelope input-icon"></i>
              {{ form.email }}
              <label class="floating-label">Email</label>
              <div class="input-border"></div>
            </div>
            {% if form.email.errors %}
              <div class="field-error">
                <i class="fas fa-exclamation-circle"></i>
                {{ form.email.errors|striptags }}
              </div>
            {% endif %}
          </div>

          <div class="form-group">
            <div class="input-wrapper">
              <i class="fas fa-phone input-icon"></i>
              {{ form.phone }}
              <label class="floating-label">Phone</label>
              <div class="input-border"></div>
            </div>
            {% if form.phone.errors %}
              <div class="field-error">
                <i class="fas fa-exclamation-circle"></i>
                {{ form.phone.errors|striptags }}
              </div>
            {% endif %}
          </div>
        </div>

        <div class="form-group">
          <div class="input-wrapper">
            <i class="fas fa-map-marker-alt input-icon"></i>
            {{ form.address }}
            <label class="floating-label">Address</label>
            <div class="input-border"></div>
          </div>
          {% if form.address.errors %}
            <div class="field-error">
              <i class="fas fa-exclamation-circle"></i>
              {{ form.address.errors|striptags }}
            </div>
          {% endif %}
        </div>

        <div class="form-group">
          <div class="input-wrapper">
            <i class="fas fa-lock input-icon"></i>
            {{ form.password }}
            <label class="floating-label">Password</label>
            <div class="input-border"></div>
          </div>
          {% if form.password.errors %}
            <div class="field-error">
              <i class="fas fa-exclamation-circle"></i>
              {{ form.password.errors|striptags }}
            </div>
          {% endif %}
        </div>

        <button type="submit" class="auth-btn primary">
          <span class="btn-text">Create Account</span>
          <div class="btn-ripple"></div>
        </button>
      </form>

      <div class="auth-divider">
        <span>or choose your role</span>
      </div>

      <div class="role-selection">
        <a href="{% url 'signup_citizen_page' %}" class="role-btn citizen">
          <i class="fas fa-user"></i>
          <span>Citizen</span>
        </a>
        <a href="{% url 'signup_authority_page' %}" class="role-btn authority">
          <i class="fas fa-shield-alt"></i>
          <span>Authority</span>
        </a>
        <a href="{% url 'signup_admin_page' %}" class="role-btn admin">
          <i class="fas fa-crown"></i>
          <span>Admin</span>
        </a>
      </div>

      <div class="auth-footer">
        <p class="signup-text">Already have an account?</p>
        <a href="{% url 'login' %}" class="link-btn">
          <i class="fas fa-sign-in-alt"></i>
          <span>Sign In</span>
        </a>
      </div>
    </div>
  </div>
</div>

<script src="{% static 'js/auth-home-animations.js' %}"></script>
{% endblock %}