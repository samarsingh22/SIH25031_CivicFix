{% extends 'base.html' %}
{% load static %}
{% block title %}Home - CivicFix{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/home.css' %}">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
{% endblock %}

{% block content %}
<!-- Animated Background -->
<div class="animated-bg">
  <div class="bg-shapes">
    <div class="shape-1"></div>
    <div class="shape-2"></div>
    <div class="shape-3"></div>
    <div class="shape-4"></div>
    <div class="shape-5"></div>
    <div class="shape-6"></div>
  </div>
</div>

<!-- Hero Section -->
<section class="hero-section">
  <div class="hero-container">
    <div class="hero-content">
      <div class="hero-text">
        <h1 class="hero-title">
          <span class="title-line">Fix your city,</span>
          <span class="title-line">one report at a time</span>
        </h1>
        <p class="hero-subtitle">
          CivicFix empowers citizens to report issues with photos and location, while authorities act faster with smart dashboards. AI-driven classification, live tracking, and transparent records ensure accountability and trust for government and communityÂ alike.
        </p>
        <div class="hero-buttons">
          <a href="{% url 'complaints_page_api' %}" class="btn-primary">
            <span class="btn-text">Report an Issue</span>
          </a>
          <a href="{% url 'complaints_auth_page' %}" class="btn-secondary">
            <span class="btn-text">View Public Map</span>
            <i class="fas fa-arrow-right btn-icon"></i>
          </a>
        </div>
        <div class="hero-stats">
          <div class="stat-item">
            <span class="stat-number">12.9K+</span>
            <span class="stat-label">Issues Resolved</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">50+</span>
            <span class="stat-label">Cities Served</span>
          </div>
        </div>
      </div>
      <div class="hero-visual">
        <div class="hero-image-container">
          <div class="main-visual">
            <img src="https://images.unsplash.com/photo-1573164713714-d95e436ab8d6?w=800&h=600&fit=crop" alt="Smart City" class="hero-image">
            <div class="visual-overlay"></div>
          </div>
          <div class="floating-cards">
            <div class="floating-card card-1">
              <div class="card-icon">
                <i class="fas fa-exclamation-triangle"></i>
              </div>
              <div class="card-content">
                <span class="card-title">Issue Reported</span>
                <span class="card-subtitle">Pothole on Main St</span>
              </div>
            </div>
            <div class="floating-card card-2">
              <div class="card-icon">
                <i class="fas fa-tools"></i>
              </div>
              <div class="card-content">
                <span class="card-title">In Progress</span>
                <span class="card-subtitle">Repair scheduled</span>
              </div>
            </div>
            <div class="floating-card card-3">
              <div class="card-icon">
                <i class="fas fa-check-circle"></i>
              </div>
              <div class="card-content">
                <span class="card-title">Resolved</span>
                <span class="card-subtitle">Issue fixed!</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Features Section -->
<section class="features-section">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">Why choose CivicFix?</h2>
      <p class="section-subtitle">Everything you need to make your city better</p>
    </div>
    <div class="features-grid">
      <div class="feature-card">
        <div class="feature-icon">
          <i class="fas fa-mobile-alt"></i>
        </div>
        <h3 class="feature-title">Mobile First</h3>
        <p class="feature-description">Report issues on the go with our mobile-optimized platform designed for quick and easy submissions</p>
      </div>
      <div class="feature-card">
        <div class="feature-icon">
          <i class="fas fa-eye"></i>
        </div>
        <h3 class="feature-title">Real-time Tracking</h3>
        <p class="feature-description">Monitor the status of your reports from submission to resolution with live updates and notifications</p>
      </div>
      <div class="feature-card">
        <div class="feature-icon">
          <i class="fas fa-users"></i>
        </div>
        <h3 class="feature-title">Community Driven</h3>
        <p class="feature-description">Join thousands of citizens making their neighborhoods better through collective civic engagement</p>
      </div>
      <div class="feature-card">
        <div class="feature-icon">
          <i class="fas fa-shield-alt"></i>
        </div>
        <h3 class="feature-title">Secure & Private</h3>
        <p class="feature-description">Your data is protected with enterprise-grade security and privacy controls you can trust</p>
      </div>
    </div>
  </div>
</section>

<!-- Demo Section -->
<section class="demo-section">
  <div class="container">
    <div class="demo-content">
      <div class="demo-text">
        <h2 class="demo-title">See CivicFix in action</h2>
        <p class="demo-subtitle">Watch how easy it is to report civic issues and track their resolution. Our intuitive interface makes civic engagement simple and effective.</p>
        <div class="demo-features">
          <div class="demo-feature">
            <i class="fas fa-check"></i>
            <span>Quick issue reporting with photos</span>
          </div>
          <div class="demo-feature">
            <i class="fas fa-check"></i>
            <span>GPS location tagging</span>
          </div>
          <div class="demo-feature">
            <i class="fas fa-check"></i>
            <span>Real-time status updates</span>
          </div>
          <div class="demo-feature">
            <i class="fas fa-check"></i>
            <span>Community feedback system</span>
          </div>
        </div>
        <a href="/api/auth/signup/citizen/page/" class="btn-demo">
          <span>Try CivicFix now</span>
          <i class="fas fa-arrow-right"></i>
        </a>
      </div>
      <div class="demo-visual">
        <div class="demo-container">
          <div class="demo-mockup">
            <div class="mockup-header">
              <div class="mockup-controls">
                <span class="control red"></span>
                <span class="control yellow"></span>
                <span class="control green"></span>
              </div>
              <span class="mockup-title">CivicFix Dashboard</span>
            </div>
            <div class="mockup-content">
              <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=600&h=400&fit=crop" alt="Dashboard Preview" class="mockup-image">
              <div class="mockup-overlay">
                <div class="overlay-stats">
                  <div class="overlay-stat">
                    <span class="stat-num">15.2K+</span>
                    <span class="stat-text">Issues Reported</span>
                  </div>
                  <div class="overlay-stat">
                    <span class="stat-num">12.9K+</span>
                    <span class="stat-text">Issues Resolved</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Process Section -->
<section class="process-section">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">How CivicFix works</h2>
      <p class="section-subtitle">Three simple steps to make your city better</p>
    </div>
    <div class="process-steps">
      <div class="step-item">
        <div class="step-visual">
          <div class="step-image-container">
            <img src="https://images.unsplash.com/photo-1556075798-4825dfaaf498?w=400&h=300&fit=crop" alt="Report Issue" class="step-image">
            <div class="step-overlay"></div>
          </div>
          <div class="step-number">1</div>
        </div>
        <div class="step-content">
          <h3 class="step-title">Report</h3>
          <p class="step-description">Spot an issue? Take a photo, add location details, and submit your report in seconds with our intuitive interface.</p>
        </div>
      </div>
      <div class="step-item">
        <div class="step-visual">
          <div class="step-image-container">
            <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=400&h=300&fit=crop" alt="Track Progress" class="step-image">
            <div class="step-overlay"></div>
          </div>
          <div class="step-number">2</div>
        </div>
        <div class="step-content">
          <h3 class="step-title">Track</h3>
          <p class="step-description">Follow your report's journey from submission to assignment to resolution with real-time updates and notifications.</p>
        </div>
      </div>
      <div class="step-item">
        <div class="step-visual">
          <div class="step-image-container">
            <img src="https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=400&h=300&fit=crop" alt="See Results" class="step-image">
            <div class="step-overlay"></div>
          </div>
          <div class="step-number">3</div>
        </div>
        <div class="step-content">
          <h3 class="step-title">Resolve</h3>
          <p class="step-description">Watch as authorities take action and see the positive impact on your community with before/after photos.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Stats Section -->
<section class="stats-section">
  <div class="container">
    <div class="stats-content">
      <div class="stats-header">
        <h2 class="stats-title">Making cities better, together</h2>
        <p class="stats-subtitle">Join thousands of citizens creating positive change in their communities</p>
      </div>
      <div class="stats-grid">
        <div class="stat-item">
          <div class="stat-visual">
            <i class="fas fa-exclamation-triangle"></i>
          </div>
          <div class="stat-number">15.2K+</div>
          <div class="stat-label">Issues Reported</div>
        </div>
        <div class="stat-item">
          <div class="stat-visual">
            <i class="fas fa-check-circle"></i>
          </div>
          <div class="stat-number">12.9K+</div>
          <div class="stat-label">Issues Resolved</div>
        </div>
        <div class="stat-item">
          <div class="stat-visual">
            <i class="fas fa-users"></i>
          </div>
          <div class="stat-number">89.5K+</div>
          <div class="stat-label">Active Citizens</div>
        </div>
        <div class="stat-item">
          <div class="stat-visual">
            <i class="fas fa-city"></i>
          </div>
          <div class="stat-number">50+</div>
          <div class="stat-label">Cities Served</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Testimonials Section -->
<section class="testimonials-section">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">What citizens are saying</h2>
      <p class="section-subtitle">Real stories from people making their communities better</p>
    </div>
    <div class="testimonials-grid">
      <div class="testimonial-card">
        <div class="testimonial-content">
          <div class="quote-icon">
            <i class="fas fa-quote-left"></i>
          </div>
          <p class="testimonial-text">"CivicFix helped me report a dangerous pothole on my street. It was fixed within 3 days! The response time was incredible and the process was so simple."</p>
          <div class="testimonial-rating">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
          </div>
        </div>
        <div class="testimonial-author">
          <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=60&h=60&fit=crop&crop=face" alt="Sarah Johnson" class="author-avatar">
          <div class="author-info">
            <div class="author-name">Sarah Johnson</div>
            <div class="author-location">Downtown District</div>
          </div>
        </div>
      </div>
      <div class="testimonial-card">
        <div class="testimonial-content">
          <div class="quote-icon">
            <i class="fas fa-quote-left"></i>
          </div>
          <p class="testimonial-text">"The tracking feature is amazing! I could see exactly when my complaint was assigned and when work started. Great transparency from the city authorities."</p>
          <div class="testimonial-rating">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
          </div>
        </div>
        <div class="testimonial-author">
          <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=60&h=60&fit=crop&crop=face" alt="Michael Chen" class="author-avatar">
          <div class="author-info">
            <div class="author-name">Michael Chen</div>
            <div class="author-location">Riverside Area</div>
          </div>
        </div>
      </div>
      <div class="testimonial-card">
        <div class="testimonial-content">
          <div class="quote-icon">
            <i class="fas fa-quote-left"></i>
          </div>
          <p class="testimonial-text">"Finally, a platform where citizens can make a real difference! I've reported 5 issues and all were resolved. My neighborhood looks so much better now."</p>
          <div class="testimonial-rating">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
          </div>
        </div>
        <div class="testimonial-author">
          <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=60&h=60&fit=crop&crop=face" alt="Emily Rodriguez" class="author-avatar">
          <div class="author-info">
            <div class="author-name">Emily Rodriguez</div>
            <div class="author-location">Westside Community</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- CTA Section -->
<section class="cta-section">
  <div class="container">
    <div class="cta-content">
      <h2 class="cta-title">Ready to make your city better?</h2>
      <p class="cta-subtitle">Join thousands of citizens who are already making a difference in their communities</p>
      <div class="cta-buttons">
        <a href="{% url 'signup_citizen_page' %}" class="btn-cta-primary">
          <span>Get Started Free</span>
          <i class="fas fa-arrow-right"></i>
        </a>
        <a href="{% url 'about' %}" class="btn-cta-secondary">
          <span>Learn More</span>
        </a>
      </div>
    </div>
  </div>
</section>
{% endblock %}
{% block extra_js %}
<script src="{% static 'js/home.js' %}"></script>
<script>

// Stats counter animation
const observerOptions = {
  threshold: 0.5,
  rootMargin: '0px 0px -100px 0px'
};

const statsObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      const statNumbers = entry.target.querySelectorAll('.stat-number');
      statNumbers.forEach(stat => {
        const finalValue = stat.textContent;
        const numericValue = parseFloat(finalValue.replace(/[^0-9.]/g, ''));
        const suffix = finalValue.replace(/[0-9.]/g, '');
        
        let currentValue = 0;
        const increment = numericValue / 50;
        const timer = setInterval(() => {
          currentValue += increment;
          if (currentValue >= numericValue) {
            stat.textContent = finalValue;
            clearInterval(timer);
          } else {
            stat.textContent = Math.floor(currentValue) + suffix;
          }
        }, 30);
      });
      statsObserver.unobserve(entry.target);
    }
  });
}, observerOptions);

const statsSection = document.querySelector('.stats-section');
if (statsSection) {
  statsObserver.observe(statsSection);
}
</script>
{% endblock %}